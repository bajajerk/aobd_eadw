<html>
<body>

	<nav>
	<div>
		<input type="text" id="search" onkeyup="search()">
	</div>
	</nav>

	<div id="result">
		
	</div>
	
	<script>
		function search(){
			var input = document.getElementById("search")
			var result = document.getElementById("result")
			result.innerHTML = input.value; 
			
			var xhr=new XMLHttpRequest();
			
			
			xhr.onreadystatechange=function()
			  {
			  if (xhr.readyState==4 && xhr.status==200)
			    {
				  	var json = JSON.parse(xhr.responseText);
				  	html = "";
				  	if (json.length==0){
					  	html += "<article>";
				  		html += "<h1 style='color:#bbbbbb'>No results for this query</h1>";
					  	html += "</article>";				  		
				  	}
				  	else {				  	
					  	for(var i= 0; i < json.length; ++i){
						  	html += "<article>";
						  	html += "<h1>"+json[i].t+"</h1>";
						  	html += "<p>Published: <time>"+json[i].p+"</time></p>";
						  	html += json[i].d;
						  	html += "<p><a href='"+json[i].l+"'>read more</a></p>";
						  	html += "</article>";				  		
					  	}
				  	}
				  	result.innerHTML=html;
			    }
			  }
			
			xhr.open("GET","/search?s="+input.value,true);
			xhr.send();
		}
		search();

		</script>
</body>

<style>
	body{
		margin: 0px;
		padding-top:32px;
	}
	

	article{
		background: #EEEEEE;
		margin: 16px auto;
		width:800px;
		padding:16px;
	}
	

	nav {
	  text-align: center;
	
		margin:0px;
		background: #333333;
		width: 100%;
		top: 0px;
		position: fixed;
		display: inline-block;
	}
	
	nav div {
			display:block;
			margin: 4px auto;
	} 

</style>
</html>